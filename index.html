<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ğŸ’–</title>

<style>
body{
  margin:0;
  font-family:'Poppins', sans-serif;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  color:white;
  overflow-x:hidden;
}
section{
  display:none;
  min-height:100vh;
  padding:40px 20px;
  text-align:center;
}
section.active{display:block}

button{
  padding:12px 24px;
  margin:10px;
  border-radius:25px;
  border:none;
  background:#ff4d6d;
  color:white;
  font-size:16px;
  cursor:pointer;
  transition: transform 0.2s;
}
button:active { transform: scale(0.95); }
button:disabled { opacity: 0.6; cursor: not-allowed; }

/* LOCK */
#lockScreen{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  z-index:999;
}
#lockScreen input{
  padding:12px;
  border-radius:20px;
  border:none;
  text-align:center;
  outline: none;
}
#error{
  margin-top:15px;
  font-size:14px;
  line-height:1.4;
  padding: 0 20px;
}

/* MUTE */
#muteBtn{
  position:fixed;
  top:15px;
  right:15px;
  z-index:1000;
  border-radius:50%;
  padding:10px 14px;
  background:rgba(0,0,0,0.3);
  border:none;
  color:white;
}

/* ANIMATIONS */
.heart, .bouquet{
  position:fixed;
  top:-50px;
  z-index: 10;
  pointer-events: none;
}
.heart { font-size:18px; animation:fall 6s linear forwards; }
.bouquet { font-size:28px; animation:fall 8s linear forwards; }
@keyframes fall{to{transform:translateY(115vh)}}

/* SCORECARD */
.scorecard{
  max-width:320px;
  margin:20px auto;
  padding:16px;
  border-radius:22px;
  background:rgba(255,255,255,0.18);
  box-shadow: 0 8px 32px rgba(0,0,0,0.1);
}
.score-main{
  display:flex;
  justify-content:space-between;
  background:rgba(0,0,0,0.25);
  padding:12px;
  border-radius:14px;
  margin-bottom: 15px;
}
</style>
</head>
<body>

<button id="muteBtn" onclick="toggleMusic()">ğŸ”Š</button>

<div id="lockScreen">
  <h2>Enter the password ğŸ’Œ</h2>
  <input type="password" id="passwordInput" placeholder="Password here...">
  <br>
  <button onclick="checkPassword()">Unlock</button>
  <div id="error"></div>
</div>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/audio/2023/03/27/audio_2c9d8c0b61.mp3" type="audio/mpeg">
</audio>

<section id="section0">
  <h2>One important question ğŸ¤­ğŸ’</h2>
  <p>Will u be my valentine<br><b>Varshi bangaram</b> ğŸ’–</p>
  <button onclick="handleResponse('yes')">Yes ğŸ’–</button>
  <button onclick="handleResponse('no')">No ğŸ˜…</button>
  <p id="valMsg"></p>
</section>

<section id="section1">
  <h2>ğŸ’– Match Summary</h2>

  <div class="scorecard">
    <h3>ğŸ Love Match</h3>
    <div class="score-main">
      <span><b id="runs">0</b>/0</span>
      <span>Overs: <span id="overs">0.0</span></span>
    </div>
    <p>ğŸ“… First meet: 27/01/2025</p>
    <p>â³ Friends since: <span id="daysTogether">0</span> days</p>
    <p>ğŸ¤ Partnership: Ari & Varshi â€“ <span id="partnership">0*</span></p>
    <p id="matchStatus">Building partnership ğŸ’–</p>
    <p>ğŸ‘‘ King Kohli mode: ON</p>
  </div>

  <img src="https://i.ibb.co/bRJmpcST/IMG-20260202-161418.jpg" 
       alt="Varshi"
       style="max-width:220px; border-radius:20px; border: 3px solid white;">

  <p>
    Thank you bangaram for accepting me as your valentine ğŸ˜š<br><br>
    Love you ğŸ˜˜ğŸ«‚<br><br>
    <b>From your<br>Choco ( Ari )</b>
  </p>

  <div style="margin-top:30px; padding-bottom: 40px;">
    <h3>One last thing ğŸ¤</h3>
    <p>Can I get a hug or a kiss? ğŸ¤­</p>
    <div style="font-size:40px;">
      <span onclick="endLove('ğŸ˜˜')" style="cursor:pointer">ğŸ˜˜</span>
      <span onclick="endLove('ğŸ«‚')" style="margin-left:30px; cursor:pointer">ğŸ«‚</span>
    </div>
    <p id="endMsg" style="height: 20px;"></p>
  </div>

  <footer style="font-size: 12px; opacity: 0.8;">â€” Arihanth</footer>
</section>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
// --- CONFIG & CONSTANTS ---
const PASSWORD = "chococream";
const firstMeetDate = new Date(2025, 0, 27);

// --- ELEMENTS ---
const bgMusic = document.getElementById('bgMusic');
const muteBtn = document.getElementById('muteBtn');
const passwordInput = document.getElementById('passwordInput');
const errorDiv = document.getElementById('error');
const runsEl = document.getElementById('runs');
const oversEl = document.getElementById('overs');
const partnershipEl = document.getElementById('partnership');
const matchStatus = document.getElementById('matchStatus');
const daysTogetherEl = document.getElementById('daysTogether');
const valMsg = document.getElementById('valMsg');
const endMsg = document.getElementById('endMsg');
const lockScreen = document.getElementById('lockScreen');

let slides = document.querySelectorAll("section");
let current = 0;
let runs = 0, balls = 0;

// --- FUNCTIONS ---
function fireConfetti(){
  confetti({particleCount:70, spread:70, origin:{y:0.6}, colors:['#ff4d6d', '#ffffff', '#ff758c']});
}

function playMusicSafely(){
  if(bgMusic.paused){
    bgMusic.volume = 0.5;
    bgMusic.play().catch(e => console.log("Autoplay prevented"));
  }
}

function toggleMusic(){
  if(bgMusic.paused){ playMusicSafely(); muteBtn.innerText="ğŸ”Š"; }
  else { bgMusic.pause(); muteBtn.innerText="ğŸ”‡"; }
}

function checkPassword(){
  const val = passwordInput.value.trim().toLowerCase();
  if(val === PASSWORD){
    unlock();
  } else {
    errorDiv.innerHTML = "You already broke into my heart ğŸ’–<br>why do you need a password again ğŸ˜Œ";
    setTimeout(unlock, 2500); // Friendly redirect anyway
  }
}

function unlock(){
  fireConfetti();
  lockScreen.style.display = "none";
  slides[0].classList.add("active");
  playMusicSafely();
}

function nextSlide(){
  slides[current].classList.remove("active");
  current++;
  if(slides[current]){
    slides[current].classList.add("active");
    if(current === 1) updateDays();
  }
}

function handleResponse(choice){
  // Disable only the buttons in this section
  slides[current].querySelectorAll("button").forEach(b => b.disabled = true);
  
  if(choice === 'yes'){
    valMsg.innerText = "That made my whole day ğŸ¥¹ğŸ’–";
  } else {
    valMsg.innerText = "Hehe ğŸ¤­ Iâ€™ll take that as a shy yes ğŸ’–";
  }
  
  fireConfetti();
  updateCricket(100); // Completes the century
  
  setTimeout(nextSlide, 2000);
}

function updateCricket(r){
  runs = r;
  balls = 60; // 10 overs
  runsEl.innerText = runs;
  oversEl.innerText = "10.0";
  partnershipEl.innerText = runs + "*";
  matchStatus.innerText = "Match won by Love ğŸ’";
}

function updateDays(){
  const today = new Date();
  const diffTime = Math.abs(today - firstMeetDate);
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
  daysTogetherEl.innerText = diffDays;
}

function endLove(e){
  endMsg.innerText = e === "ğŸ˜˜" ? "That kiss made my heart melt ğŸ’–" : "That hug felt like home ğŸ«‚";
  fireConfetti();
}

// --- BACKGROUND ANIMATIONS ---
setInterval(() => {
  if(document.querySelectorAll(".heart").length > 10) return;
  const h = document.createElement("div");
  h.className = "heart"; h.innerText = "â¤ï¸";
  h.style.left = Math.random() * 100 + "vw";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 6000);
}, 1000);

setInterval(() => {
  if(document.querySelectorAll(".bouquet").length > 3) return;
  const b = document.createElement("div");
  b.className = "bouquet"; b.innerText = "ğŸ’";
  b.style.left = Math.random() * 90 + "vw";
  document.body.appendChild(b);
  setTimeout(() => b.remove(), 8000);
}, 3000);
</script>

</body>
</html>
